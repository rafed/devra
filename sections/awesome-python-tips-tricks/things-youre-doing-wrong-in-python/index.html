<!doctype html><html lang=en-us>
<head><title>
Things You're Doing Wrong in Python |
DevRa
</title>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover">
<link rel=canonical href=https://rafed.github.io/devra/sections/awesome-python-tips-tricks/things-youre-doing-wrong-in-python/>
<link rel=icon type=image/png href=https://rafed.github.io/devra/image/favicon.ico>
<meta name=description content="
    Avoid these things in Python to write better code and make better software.
    ">
<meta property="og:description" content="
    Avoid these things in Python to write better code and make better software.
    ">
<meta property="og:image" content="https://rafed.github.io/devra/sections/awesome-python-tips-tricks/things-youre-doing-wrong-in-python/python.png">
<meta property="og:title" content="Things You're doing wrong in Python">
<meta property="og:type" content="article">
<meta property="og:url" content="https://rafed.github.io/devra/sections/awesome-python-tips-tricks/things-youre-doing-wrong-in-python/"><meta property="article:section" content="sections">
<meta property="article:published_time" content="2021-07-03T00:00:00+00:00">
<meta property="article:modified_time" content="2021-07-03T00:00:00+00:00">
<meta name=twitter:card content="summary">
<meta name=twitter:title content="Things You're doing wrong in Python">
<meta name=twitter:description content="Avoid these things in Python to write better code and make better software.">
<meta itemprop=name content="Things You're doing wrong in Python">
<meta itemprop=description content="Avoid these things in Python to write better code and make better software."><meta itemprop=datePublished content="2021-07-03T00:00:00+00:00">
<meta itemprop=dateModified content="2021-07-03T00:00:00+00:00">
<meta itemprop=wordCount content="546">
<meta itemprop=keywords content="programming,python,">
<link rel=stylesheet href=/devra/main.min.css>
<script src=/devra/bundle.js></script>
<script data-ad-client=ca-pub-7125931910131040 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
</head>
<body><header id=header>
<div class=top-bar>
<div class=container-md>
<div class="row align-items-center">
<div class="col-3 col-sm-4 social-buttons d-none d-sm-block">
<ul>
<li>
<a href=https://www.facebook.com/devrafed target=_blank>
<i class="fab fa-facebook"></i></a>
</li>
<li>
<a href=https://www.youtube.com/channel/UC5NjXdWBtuSiY4QcU0nh_JA target=_blank>
<i class="fab fa-youtube"></i></a>
</li>
<li>
<a href=https://github.com/rafed target=_blank>
<i class="fab fa-github"></i></a>
</li>
<li>
<a href=https://www.linkedin.com/in/rafed-m-yasir/ target=_blank>
<i class="fab fa-linkedin"></i></a>
</li>
</ul>
</div>
<div class="ra-toggler col-3 col-sm-4 d-block d-sm-none">
<button class=bg-dark type=button data-bs-toggle=collapse data-bs-target=#navbarNav>
<i class="fas fa-bars"></i>
</button>
</div>
<div class="col-6 col-sm-4">
<h2 class=title><a href=/devra/>DevRa</a></h2>
</div>
<div class="col-3 col-sm-4">
<div class="col col-md-8 offset-md-4 d-none d-sm-block">
<form id=cse-search-box-form-id class="input-group search-bar" onsubmit="return executeQuery('lg')" role=search>
<input id=cse-search-input-box-id type=text class=form-control placeholder=Search>
<button class=btn type=submit>
<i class="fa fa-search"></i>
</button>
</form>
</div>
</div>
</div>
</div>
</div>
<div class=container-md>
<nav class="navbar navbar-expand-sm navbar-dark bg-dark">
<div class="collapse navbar-collapse" id=navbarNav>
<ul class="navbar-nav mx-auto">
<li class="nav-item d-block d-sm-none">
<ul class=social-buttons>
<ul>
<li>
<a href=https://www.facebook.com/devrafed target=_blank>
<i class="fab fa-facebook"></i></a>
</li>
<li>
<a href=https://www.youtube.com/channel/UC5NjXdWBtuSiY4QcU0nh_JA target=_blank>
<i class="fab fa-youtube"></i></a>
</li>
<li>
<a href=https://github.com/rafed target=_blank>
<i class="fab fa-github"></i></a>
</li>
<li>
<a href=https://www.linkedin.com/in/rafed-m-yasir/ target=_blank>
<i class="fab fa-linkedin"></i></a>
</li>
</ul>
</ul>
</li>
<li class=nav-item>
<a class=nav-link href=/devra/>
Home
</a>
</li>
<li class="nav-item dropdown">
<a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown>
Blog
</a>
<div class=dropdown-menu>
<a class=dropdown-item href=/devra/posts/>Posts</a>
<a class=dropdown-item href=/devra/sections/>Sections</a>
<div class=dropdown-divider></div>
<a class=dropdown-item href=/devra/tags/>Tags</a>
</div>
</li>
<li class=nav-item>
<a class=nav-link href=http://rafed.github.io/>
About
</a>
</li>
<li class=nav-item>
<a class=nav-link href=/devra/contact/>
Contact
</a>
</li>
<li class=nav-item>
<a class=nav-link href=/devra/privacy/>
Privacy
</a>
</li>
</ul>
<form id=cse-search-box-form-id2 class="d-flex search-bar d-block d-sm-none" onsubmit="return executeQuery('xs')" role=search>
<input id=cse-search-input-box-id2 type=text class=form-control placeholder=Search>
<button class=btn type=submit>
<i class="fa fa-search"></i>
</button>
</form>
</div>
</nav>
</div>
</header>
<main class=blog-content>
<div class=container-md>
<div class=row>
<div class="col-lg-2 d-none d-xl-block">
<div class=ad-left-offset></div>
<script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7125931910131040 data-ad-slot=3331960876 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script>
</div>
<div class="col-md-12 col-lg-8 px-lg-4">
<script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7125931910131040 data-ad-slot=4914046999 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script>
<h1 class=title>Things You're doing wrong in Python</h1>
<div class="container-fluid px-0 mb-4">
<div class="row align-items-end">
<div class="col-md-4 date-time">
<span class=date>
Jul 3, 2021
</span>
&#183;
<span class=time-to-read>
3 mins read</span>
</div>
<div class="col-md-8 tags">
<a href=/devra/tags/programming><span class="tag bg-dark">programming</span></a>
<a href=/devra/tags/python><span class="tag bg-dark">python</span></a>
</div>
</div>
</div>
<figure>
<img id=cover-image src=/devra/sections/awesome-python-tips-tricks/things-youre-doing-wrong-in-python/python.png alt="Things You're doing wrong in Python">
</figure>
<p>Avoid these things in Python to write better code and make better software.</p>
<h2 id=1-not-using-_if-__name__--__main___>1. Not using <em>if __name__ == &lsquo;__main__'</em></h2>
<p>Let&rsquo;s say, you have written a very useful function and tested it by running the file.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> time

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>timer</span>():
    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>100</span>):
        print(i)
        time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>1</span>)

timer()
</code></pre></div><p>Apparently, nothing seems wrong. However, since this function is so useful, you start importing it into other projects. This importing will cause problems because, with each import, the timer is going to start executing.</p>
<p>To block the file from executing code, we should use <em>if __name__ == &lsquo;__main__'</em>.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>import</span> time

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>timer</span>():
    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>100</span>):
        print(i)
        time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>1</span>)

<span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;__main__&#39;</span>:
    timer()
</code></pre></div><p>Now we can run the file individually and also import our timer in other py files without side effects.</p>
<h2 id=2-using-bare-excepts>2. Using bare excepts</h2>
<p>Let&rsquo;s say we want to handle errors.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>while</span>:
    <span style=color:#66d9ef>try</span>:
        doing_something()
    <span style=color:#66d9ef>except</span>:
        print(<span style=color:#e6db74>&#34;Oops! Something went wrong.)</span>
</code></pre></div><p>When you run this code, you cannot stop it using a KeyboardInterrupt (<kbd>ctrl</kbd> + <kbd>c</kbd>) because the except block handles this interrupt and the loop continues.</p>
<p>If you mention the type of exception then this can be avoided.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>while</span>:
    <span style=color:#66d9ef>try</span>:
        doing_something()
    <span style=color:#66d9ef>except</span> <span style=color:#a6e22e>Exception</span>:
        print(<span style=color:#e6db74>&#34;Oops! Something went wrong.)</span>
</code></pre></div><p>KeyboardInterrupt is not handled by the Exception class. So now you can stop the program using <kbd>ctrl</kbd> + <kbd>c</kbd>.</p>
<h2 id=3-not-using-sets-instead-of-lists>3. Not Using Sets instead of Lists</h2>
<p>Let&rsquo;s say we want to check the membership of a value in a group. The following dummy code simulates searching 100 names in a long list of names.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># names.txt contains a million names</span>
<span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;names.txt&#39;</span>) <span style=color:#66d9ef>as</span> f:
    names <span style=color:#f92672>=</span> f<span style=color:#f92672>.</span>readlines()

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>search_in_names</span>():
    ret <span style=color:#f92672>=</span> []
    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>100</span>):
        ret<span style=color:#f92672>.</span>append(str(i) <span style=color:#f92672>in</span> names)
    <span style=color:#66d9ef>return</span> ret

search_in_names()
<span style=color:#75715e># Execution time: 2s</span>
</code></pre></div><p>The problem here is that searching in lists is slow. It can be made faster using a list.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># names.txt contain a million names</span>
<span style=color:#66d9ef>with</span> open(<span style=color:#e6db74>&#39;names.txt&#39;</span>) <span style=color:#66d9ef>as</span> f:
    names <span style=color:#f92672>=</span> set(f<span style=color:#f92672>.</span>readlines())

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>search_in_names</span>():
    ret <span style=color:#f92672>=</span> []
    <span style=color:#66d9ef>for</span> i <span style=color:#f92672>in</span> range(<span style=color:#ae81ff>100</span>):
        ret<span style=color:#f92672>.</span>append(str(i) <span style=color:#f92672>in</span> names)
    <span style=color:#66d9ef>return</span> ret

search_in_names()
<span style=color:#75715e># Execution time: &lt;0.1s</span>
</code></pre></div><p>There you go! Now you&rsquo;re a little bit better and a little bit wiser in Python.</p>
<h2 id=4-using-len-to-check-empty-list>4. Using len() to check empty list</h2>
<p>A python newbie may check the emptiness of a list with the following</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>if</span> len(names) <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0</span>:
    print(names)
</code></pre></div><p>This can be done better. The len() function is not required. The following will work as well.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>if</span> names:
    print(names)
</code></pre></div><h2 id=5-evaluating-multiple-conditions>5. Evaluating Multiple Conditions</h2>
<p>If you&rsquo;re coming from another programming language, you might be using multiple conditions the following way.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>if</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;</span> a <span style=color:#f92672>and</span> a <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>:
    <span style=color:#75715e># do something</span>
</code></pre></div><p>But you can do better.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>if</span> <span style=color:#ae81ff>1</span> <span style=color:#f92672>&lt;</span> a <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4</span>:
    <span style=color:#75715e># do something </span>
</code></pre></div><h4 id=51-bonus-for-multiple-conditions>5.1 Bonus for multiple conditions!</h4>
<p>For multiple conditions inside <em>if</em> statements you can use the following tricks.</p>
<p>Instead of</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>if</span> b <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Mon&#34;</span> <span style=color:#f92672>or</span> b <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Wed&#34;</span> <span style=color:#f92672>or</span> b <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Fri&#34;</span> <span style=color:#f92672>or</span> b <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;Sun&#34;</span>:
    <span style=color:#75715e># do something</span>
</code></pre></div><p>Do</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>if</span> b <span style=color:#f92672>in</span> <span style=color:#e6db74>&#34;Mon Wed Fri Sun&#34;</span><span style=color:#f92672>.</span>split():
    <span style=color:#75715e># do something </span>
</code></pre></div><p>And, instead of</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>if</span> a <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>and</span> b <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>5</span> <span style=color:#f92672>and</span> c <span style=color:#f92672>==</span> <span style=color:#ae81ff>4</span>:
    <span style=color:#75715e># do something</span>

<span style=color:#66d9ef>if</span> a <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span> <span style=color:#f92672>or</span> b <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>5</span> <span style=color:#f92672>or</span> c <span style=color:#f92672>==</span> <span style=color:#ae81ff>4</span>:
    <span style=color:#75715e># do something</span>
</code></pre></div><p>Do</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#66d9ef>if</span> all([a <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>, b <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>5</span>, c <span style=color:#f92672>==</span> <span style=color:#ae81ff>4</span>]):
    <span style=color:#75715e># do something</span>

<span style=color:#66d9ef>if</span> any([a <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>10</span>, b <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>5</span>, c <span style=color:#f92672>==</span> <span style=color:#ae81ff>4</span>]):
    <span style=color:#75715e># do something</span>
</code></pre></div>
<div id=social-media-share>
<p><i>Sharing is caring!</i></p>
<div class=share-buttons>
<a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2frafed.github.io%2fdevra%2fsections%2fawesome-python-tips-tricks%2fthings-youre-doing-wrong-in-python%2f" onclick="return socialMediaPopUp(this.href,'',500,500),!1" title="Share on Facebook. Opens in a new window.">
<img src=/devra/icons/45px/facebook.png>
</a>
<a href="https://twitter.com/intent/tweet?text=Things%20You%27re%20doing%20wrong%20in%20Python&url=https%3a%2f%2frafed.github.io%2fdevra%2fsections%2fawesome-python-tips-tricks%2fthings-youre-doing-wrong-in-python%2f" onclick="return socialMediaPopUp(this.href,'',500,500),!1" title="Share on Twitter. Opens in a new window.">
<img src=/devra/icons/45px/twitter.png>
</a>
<a href="http://www.reddit.com/submit?url=https%3a%2f%2frafed.github.io%2fdevra%2fsections%2fawesome-python-tips-tricks%2fthings-youre-doing-wrong-in-python%2f" onclick="return socialMediaPopUp(this.href,'',900,500),!1" title="Share on Reddit. Opens in a new window.">
<img src=/devra/icons/45px/reddit.png>
</a>
<a href="http://pinterest.com/pin/create/button/?url=https%3a%2f%2frafed.github.io%2fdevra%2fsections%2fawesome-python-tips-tricks%2fthings-youre-doing-wrong-in-python%2f" onclick="return socialMediaPopUp(this.href,'',900,500),!1" title="Share on Pinterest. Opens in a new window.">
<img src=/devra/icons/45px/pinterest.png>
</a>
<a href="http://www.tumblr.com/share/link?url=https%3a%2f%2frafed.github.io%2fdevra%2fsections%2fawesome-python-tips-tricks%2fthings-youre-doing-wrong-in-python%2f" onclick="return socialMediaPopUp(this.href,'',900,500),!1" title="Share on Tumblr. Opens in a new window.">
<img src=/devra/icons/45px/tumblr.png>
</a>
<a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2frafed.github.io%2fdevra%2fsections%2fawesome-python-tips-tricks%2fthings-youre-doing-wrong-in-python%2f
			&title=Things%20You%27re%20doing%20wrong%20in%20Python&summary=%3cp%3eAvoid%20these%20things%20in%20Python%20to%20write%20better%20code%20and%20make%20better%20software.%3c%2fp%3e&source=https://rafed.github.io/devra/" onclick="return socialMediaPopUp(this.href,'',900,500),!1" title="Share on LinkedIn. Opens in a new window.">
<img src=/devra/icons/45px/linkedin.png>
</a>
<a href="mailto:?subject=Things%20You%27re%20doing%20wrong%20in%20Python&body=Check out this site https%3a%2f%2frafed.github.io%2fdevra%2fsections%2fawesome-python-tips-tricks%2fthings-youre-doing-wrong-in-python%2f" title="Share via Email. Opens in a new window.">
<img src=/devra/icons/45px/mail.png>
</a>
</div>
</div>
<script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7125931910131040 data-ad-slot=4914046999 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script>
<br>
<div id=disqus_thread></div>
<script type=text/javascript>(function(){var a,b;if(window.location.hostname=="localhost")return;a=document.createElement('script'),a.type='text/javascript',a.async=!0,b='rafed',a.src='//'+b+'.disqus.com/embed.js',(document.getElementsByTagName('head')[0]||document.getElementsByTagName('body')[0]).appendChild(a)})()</script>
<noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript>
</div>
<div class="col-lg-2 d-none d-xl-block">
<div class=ad-right-offset></div>
<script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script>
<ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7125931910131040 data-ad-slot=3331960876 data-ad-format=auto data-full-width-responsive=true></ins>
<script>(adsbygoogle=window.adsbygoogle||[]).push({})</script>
</div>
</div>
</div>
</main>
<footer class="text-center py-5">
<p>
Â© 2021 Rafed Muhammad Yasir.
</p>
</footer>
<script async src="https://cse.google.com/cse.js?cx=000151824860492892407%3akd5zijxwj6a"></script>
<gcse:searchresults-only></gcse:searchresults-only>
</body>
</html>