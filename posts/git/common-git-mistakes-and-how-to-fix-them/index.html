<!doctype html><html lang=en-us><head><title>Common Git Mistakes and How to Fix Them |
DevRa
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,viewport-fit=cover"><link rel=canonical href=https://rafed.github.io/devra/posts/git/common-git-mistakes-and-how-to-fix-them/><link rel=icon type=image/png href=https://rafed.github.io/devra/image/favicon.ico><meta name=description content="
    
What&rsquo;s the worst thing you can do at your day job as a software developer?
    "><meta property="og:description" content="
    
What&rsquo;s the worst thing you can do at your day job as a software developer?
    "><meta property="og:image" content="https://rafed.github.io/devra/posts/git/common-git-mistakes-and-how-to-fix-them/mistake.jpg"><meta property="og:title" content="Common Git Mistakes and How to Fix them"><meta property="og:type" content="article"><meta property="og:url" content="https://rafed.github.io/devra/posts/git/common-git-mistakes-and-how-to-fix-them/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-06-24T00:00:00+00:00"><meta property="article:modified_time" content="2021-06-24T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Common Git Mistakes and How to Fix them"><meta name=twitter:description content=" What’s the worst thing you can do at your day job as a software developer?"><meta itemprop=name content="Common Git Mistakes and How to Fix them"><meta itemprop=description content=" What’s the worst thing you can do at your day job as a software developer?"><meta itemprop=datePublished content="2021-06-24T00:00:00+00:00"><meta itemprop=dateModified content="2021-06-24T00:00:00+00:00"><meta itemprop=wordCount content="879"><meta itemprop=keywords content="Git,Github"><link rel=stylesheet href=/devra/main.min.css><script src=/devra/bundle.js></script><script data-ad-client=ca-pub-7125931910131040 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-CD8YE5ES29"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-CD8YE5ES29")</script></head><body><header id=header><div class=top-bar><div class=container-md><div class="row align-items-center"><div class="col-3 col-sm-4 social-buttons d-none d-sm-block"><ul><li><a href=https://www.facebook.com/devrafed target=_blank><i class="fab fa-facebook"></i></a></li><li><a href=https://x.com/rafedyasir target=_blank><i class="fab fa-twitter"></i></a></li><li><a href=https://www.youtube.com/channel/UC5NjXdWBtuSiY4QcU0nh_JA target=_blank><i class="fab fa-youtube"></i></a></li><li><a href=https://www.instagram.com/rafedyasir/ target=_blank><i class="fab fa-instagram"></i></a></li><li><a href=https://github.com/rafed target=_blank><i class="fab fa-github"></i></a></li><li><a href=https://www.linkedin.com/in/rafed-m-yasir/ target=_blank><i class="fab fa-linkedin"></i></a></li></ul></div><div class="ra-toggler col-3 col-sm-4 d-block d-sm-none"><button class=bg-dark type=button data-bs-toggle=collapse data-bs-target=#navbarNav>
<i class="fas fa-bars"></i></button></div><div class="col-6 col-sm-4"><h2 class=title><a href=/>DevRa</a></h2></div><div class="col-3 col-sm-4"><div class="col col-md-8 offset-md-4 d-none d-sm-block"><form id=cse-search-box-form-id class="input-group search-bar" onsubmit='return executeQuery("lg")' role=search><input id=cse-search-input-box-id type=text class=form-control placeholder=Search>
<button class=btn type=submit>
<i class="fa fa-search"></i></button></form></div></div></div></div></div><div class=container-md><nav class="navbar navbar-expand-sm navbar-dark bg-dark"><div class="collapse navbar-collapse" id=navbarNav><ul class="navbar-nav mx-auto"><li class="nav-item d-block d-sm-none"><ul class=social-buttons><ul><li><a href=https://www.facebook.com/devrafed target=_blank><i class="fab fa-facebook"></i></a></li><li><a href=https://x.com/rafedyasir target=_blank><i class="fab fa-twitter"></i></a></li><li><a href=https://www.youtube.com/channel/UC5NjXdWBtuSiY4QcU0nh_JA target=_blank><i class="fab fa-youtube"></i></a></li><li><a href=https://www.instagram.com/rafedyasir/ target=_blank><i class="fab fa-instagram"></i></a></li><li><a href=https://github.com/rafed target=_blank><i class="fab fa-github"></i></a></li><li><a href=https://www.linkedin.com/in/rafed-m-yasir/ target=_blank><i class="fab fa-linkedin"></i></a></li></ul></ul></li><li class=nav-item><a class=nav-link href=/devra/>Home</a></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=navbarDropdown role=button data-bs-toggle=dropdown>Blog</a><div class=dropdown-menu><a class=dropdown-item href=/devra/posts/>Posts</a>
<a class=dropdown-item href=/devra/sections/>Sections</a><div class=dropdown-divider></div><a class=dropdown-item href=/devra/tags/>Tags</a></div></li><li class=nav-item><a class=nav-link href=http://rafed.github.io/>About</a></li><li class=nav-item><a class=nav-link href=/devra/contact/>Contact</a></li><li class=nav-item><a class=nav-link href=/devra/privacy/>Privacy</a></li></ul><form id=cse-search-box-form-id2 class="d-flex search-bar d-block d-sm-none" onsubmit='return executeQuery("xs")' role=search><input id=cse-search-input-box-id2 type=text class=form-control placeholder=Search>
<button class=btn type=submit>
<i class="fa fa-search"></i></button></form></div></nav></div></header><main class=blog-content><div class=container-md><div class=row><div class="col-lg-2 d-none d-xl-block"><div class=ad-left-offset></div><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7125931910131040 data-ad-slot=3331960876 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div><div class="col-md-12 col-lg-8 px-lg-4"><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7125931910131040 data-ad-slot=4914046999 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><h1 class=title>Common Git Mistakes and How to Fix them</h1><div class="container-fluid px-0 mb-4"><div class="row align-items-end"><div class="col-md-4 date-time"><span class=date>Jun 24, 2021
</span>&#183;
<span class=time-to-read>5 mins read</span></div><div class="col-md-8 tags"><a href=/devra/tags/git><span class="tag bg-dark">git</span></a>
<a href=/devra/tags/github><span class="tag bg-dark">github</span></a></div></div></div><figure><img id=cover-image src=/devra/posts/git/common-git-mistakes-and-how-to-fix-them/mistake.jpg alt="Common Git Mistakes and How to Fix them"></figure><p>What&rsquo;s the worst thing you can do at your day job as a software developer?</p><p>Mess up the git project tree, that&rsquo;s for sure.</p><p>To err is human. But surely, nobody wants to be &ldquo;the guy&rdquo; who messed it up. So in this article, I&rsquo;m going to show you the common mistakes everyone makes in git and how you can avoid/fix them (so that you don&rsquo;t have to be &ldquo;the guy&rdquo; who messes up stuff).</p><h4 id=0-configure-git-after-fresh-install>0. Configure git after fresh install</h4><p>Let&rsquo;s say you have a fresh git installation and is now about to make your first commit. But then git says</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>Please tell me who you are
</span></span></code></pre></div><p>It&rsquo;s because, when you make a commit, git adds a name and an email to the commit so that others can know who made these changes. Let&rsquo;s configure the global name and email.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git config --global user.email johndoe@example.com
</span></span><span style=display:flex><span>$ git config --global user.name <span style=color:#e6db74>&#34;John Doe&#34;</span>
</span></span></code></pre></div><h5 id=bonus>Bonus</h5><p>The above commands set the global name and email. That means, for any repository you work in, the user and email always stay the same. If you want to set different names/emails for different repositories, go to the root of that repo and run the above commands again without the &ldquo;&ndash;global&rdquo; part.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Inside a git repo</span>
</span></span><span style=display:flex><span>$ git config user.email dohnjoe@example.com
</span></span><span style=display:flex><span>$ git config user.name <span style=color:#e6db74>&#34;Dohn Joe&#34;</span>
</span></span></code></pre></div><h4 id=1-update-a-commit-message>1. Update a commit message</h4><p>Oops, you have a typo in your commit message.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git commit --amend -m <span style=color:#e6db74>&#34;New commit message&#34;</span>
</span></span></code></pre></div><h4 id=2-update-a-file-in-a-commit>2. Update a file in a commit</h4><p>Oops, you committed a random <em>print()</em> statement and need to remove that. Make your changes accordingly, and</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git add .
</span></span><span style=display:flex><span>$ git commit --amend --no-edit <span style=color:#75715e># --no-edit for not changing commit message</span>
</span></span></code></pre></div><p><em>Don&rsquo;t amend pushed commits.</em></p><h4 id=3-unmodify-a-modified-file>3. Unmodify a modified file</h4><p>Maybe you started modifying a file, but now want to unmodify it and get it back to its original form. Then run</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git checkout -- filename
</span></span><span style=display:flex><span>$ git checkout -- .  <span style=color:#75715e># To umodify the entire folder</span>
</span></span></code></pre></div><p><em>Don&rsquo;t amend pushed commits.</em></p><h4 id=4-undo-local-commits>4. Undo local commits</h4><p>Oops, you have made commits but now want to undo them and go back to previous states.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Undo the last three commits, KEEP CHANGES</span>
</span></span><span style=display:flex><span>$ git reset HEAD~3
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Undo the last three commits, DISCARD CHANGES</span>
</span></span><span style=display:flex><span>$ git reset --hard HEAD~3
</span></span></code></pre></div><h4 id=5-committed-to-a-wrong-branch>5. Committed to a wrong branch</h4><p>Oops, you were supposed to commit to a <em>new branch</em> but committed to <em>master</em>. No problem.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git branch new-branch    <span style=color:#75715e># create the new branch to work with</span>
</span></span><span style=display:flex><span>$ git reset HEAD~ --hard   <span style=color:#75715e># reset the main branch to the previous commit</span>
</span></span><span style=display:flex><span>$ git checkout new-branch  <span style=color:#75715e># finally switch to the new branch</span>
</span></span></code></pre></div><p>Avoid this mistake by making the habit of creating a new branch whenever you are implementing a new feature (even if they are going to be discarded later).</p><h4 id=6-committed-files-that-should-have-been-ignored>6. Committed files that should have been ignored</h4><p>Oops, you committed some files that should have been ignored (such as .env, exe). You add .gitignores for those but the files are still in the git tree. No problem, we can remove them.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># First, add files to be ignored in .gitignore</span>
</span></span><span style=display:flex><span>$ git rm -r --path/to/file .  
</span></span></code></pre></div><p>Or, if the number of files are too many</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># First, add files to be ignored in .gitignore</span>
</span></span><span style=display:flex><span>$ git rm -r --cached .  <span style=color:#75715e># remove all files from git</span>
</span></span><span style=display:flex><span>$ git add .             <span style=color:#75715e># re-add all files</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Then, commit as usual</span>
</span></span></code></pre></div><h4 id=7-added-commits-previously-that-needs-to-be-removed-repo-not-pushed-to-remote>7. Added Commits previously that needs to be removed (Repo NOT PUSHED to remote)</h4><p>Let&rsquo;s say you made the following commits.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>925ed76 commit <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>1ef488d commit <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>89c6e05 commit <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>8efbd1c commit <span style=color:#ae81ff>2</span>
</span></span><span style=display:flex><span>02baddf Commit <span style=color:#ae81ff>1</span>
</span></span></code></pre></div><p>But now you have realized that changes made in commit 3 were a mistake and it needs to be removed.</p><p>The solution shown below will only work for repos not pushed to the remote. Run-</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git rebase -i HEAD~3
</span></span></code></pre></div><p>This command will open an editor with the past 3 commits from HEAD so that you can pick or drop a commit. For example, the above would show something like this in a text editor-</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>pick 925ed76 commit <span style=color:#ae81ff>5</span>
</span></span><span style=display:flex><span>pick 1ef488d commit <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>pick 89c6e05 commit <span style=color:#ae81ff>3</span>
</span></span></code></pre></div><p>Since we want to delete commit 3, remove that line and close the editor. That commit will be undone.</p><p>In some cases, merge conflicts may occur. In case they occur, resolve the conflicts and run-</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#ae81ff>4</span> git rebase --continue
</span></span></code></pre></div><h4 id=8-added-commits-previously-that-needs-to-be-removed-repo-pushed-to-remote>8. Added Commits previously that needs to be removed (Repo PUSHED to remote)</h4><p>The solution in point 7 works when the repo is not pushed to the remote. What if the repo has been pushed and we want to remove past commits?</p><p>To solve this we need to use <em>git revert</em>. The <em>git rebase</em> command shown previously modified the commit history to solve the issue. But this cannot be done now as the repo is pushed to the remote. The remote will reject the push as the commit tree will not match. A force push will work, but that will mess up the commit tree of other contributors to the project.</p><p>A <em>git revert</em> adds a new commit that undoes changes made in a past commit. To revert, run-</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git revert 1ab241 <span style=color:#75715e>## Hash of the commit to be undone</span>
</span></span></code></pre></div><p>Then resolve conflict, merge and push. Voila!</p><div id=social-media-share><p><i>Sharing is caring!</i></p><div class=share-buttons><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2frafed.github.io%2fdevra%2fposts%2fgit%2fcommon-git-mistakes-and-how-to-fix-them%2f" onclick='return socialMediaPopUp(this.href,"",500,500),!1' title="Share on Facebook. Opens in a new window."><img src=/devra/icons/48px/facebook.png>
</a><a href="https://twitter.com/intent/tweet?text=Common%20Git%20Mistakes%20and%20How%20to%20Fix%20them&url=https%3a%2f%2frafed.github.io%2fdevra%2fposts%2fgit%2fcommon-git-mistakes-and-how-to-fix-them%2f" onclick='return socialMediaPopUp(this.href,"",500,500),!1' title="Share on Twitter. Opens in a new window."><img src=/devra/icons/48px/x.png>
</a><a href="http://www.reddit.com/submit?url=https%3a%2f%2frafed.github.io%2fdevra%2fposts%2fgit%2fcommon-git-mistakes-and-how-to-fix-them%2f" onclick='return socialMediaPopUp(this.href,"",900,500),!1' title="Share on Reddit. Opens in a new window."><img src=/devra/icons/48px/reddit.png>
</a><a href=http://pinterest.com/pin/create/button/https://rafed.github.io/devra/posts/git/common-git-mistakes-and-how-to-fix-them/ onclick='return socialMediaPopUp(this.href,"",900,500),!1' title="Share on Pinterest. Opens in a new window."><img src=/devra/icons/48px/pinterest.png>
</a><a href="https://www.tumblr.com/widgets/share/tool?canonicalUrl=https%3a%2f%2frafed.github.io%2fdevra%2fposts%2fgit%2fcommon-git-mistakes-and-how-to-fix-them%2f" onclick='return socialMediaPopUp(this.href,"",900,500),!1' title="Share on Tumblr. Opens in a new window."><img src=/devra/icons/48px/tumblr.png>
</a><a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2frafed.github.io%2fdevra%2fposts%2fgit%2fcommon-git-mistakes-and-how-to-fix-them%2f
			&title=Common%20Git%20Mistakes%20and%20How%20to%20Fix%20them&summary=%3c%21--%20%2a%20You%20want%20to%20be%20able%20to%20confidently%20undo%20changes%20that%20break%20your%20cod%0a%2a%20Track%20changes%20-%20You%20want%20to%20be%20able%20to%20figure%20out%20what%20was%20necessary%20to%20implement%20a%20feature%2c%20or%20how%20various%20code%20is%20related%20to%20other%20code.%20%20%20Mostly%2c%20you%20want%20to%20know%20why%20somebody%20chose%20to%20write%20a%20particular%20piece%20of%20code.%20--%3e%0a%3cp%3eWhat%26rsquo%3bs%20the%20worst%20thing%20you%20can%20do%20at%20your%20day%20job%20as%20a%20software%20developer%3f%3c%2fp%3e&source=https%3a%2f%2frafed.github.io%2fdevra%2f" onclick='return socialMediaPopUp(this.href,"",900,500),!1' title="Share on LinkedIn. Opens in a new window."><img src=/devra/icons/48px/linkedin.png>
</a><a href="mailto:?subject=Common%20Git%20Mistakes%20and%20How%20to%20Fix%20them&amp;body=Check out this site https%3a%2f%2frafed.github.io%2fdevra%2fposts%2fgit%2fcommon-git-mistakes-and-how-to-fix-them%2f" title="Share via Email. Opens in a new window."><img src=/devra/icons/48px/email.png></a></div></div><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7125931910131040 data-ad-slot=4914046999 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script><br><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var t,e=document.createElement("script");e.type="text/javascript",e.async=!0,t="rafed",e.src="//"+t+".disqus.com/embed.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)})()</script><noscript>Please enable JavaScript to view the <a href=http://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div><div class="col-lg-2 d-none d-xl-block"><div class=ad-right-offset></div><script async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><ins class=adsbygoogle style=display:block data-ad-client=ca-pub-7125931910131040 data-ad-slot=3331960876 data-ad-format=auto data-full-width-responsive=true></ins><script>(adsbygoogle=window.adsbygoogle||[]).push({})</script></div></div></div></main><footer class="text-center py-5"><p>© 2024 <a href=https://rafed.github.io/ target=_blank>Rafed Muhammad Yasir</a>.
<a href=https://github.com/rafed/BlogRa/ target=_blank>BlogRa</a> theme for
<a href=https://github.com/gohugoio/hugo/ target=_blank>Hugo
</a>.</p></footer><script async src="https://cse.google.com/cse.js?cx=000151824860492892407%3akd5zijxwj6a"></script><gcse:searchresults-only></gcse:searchresults-only></body></html>